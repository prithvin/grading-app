
    <link rel="stylesheet" href="NoVNCFiles/noVNC/include/base.css" title="plain">

        <script src="NoVNCFiles/noVNC/include/util.js"></script>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<style>
.wrappermain {
  background-color: #000;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

.wrapper {
  margin: 10rem;
}
.wrapper > div {
  -webkit-animation: 0.8s  rotate  linear  forwards  infinite;
          animation: 0.8s  rotate  linear  forwards  infinite;
  position: relative;
  -webkit-transform-origin: center center;
      -ms-transform-origin: center center;
          transform-origin: center center;
}
.wrapper > div > div {
  height: 100px;
  width: 100px;
  border-radius: 52px;
  position: absolute;
  top: calc(50% - 52px);
  right: -100%;
  left: -100%;
  margin: 0 auto;
  mix-blend-mode: screen;
  -webkit-transform-origin: center center;
      -ms-transform-origin: center center;
          transform-origin: center center;
  border-width: 2px;
  border-style: solid;
}
.wrapper > div > div:nth-child(1) {
  -webkit-transform: rotate(60deg) scale(1) translateY(0rem);
      -ms-transform: rotate(60deg) scale(1) translateY(0rem);
          transform: rotate(60deg) scale(1) translateY(0rem);
  border-color: #ddff33;
  -webkit-animation: 1.8s flying1 0s forwards infinite;
          animation: 1.8s flying1 0s forwards infinite;
}
.wrapper > div > div:nth-child(2) {
  -webkit-transform: rotate(120deg) scale(1) translateY(0rem);
      -ms-transform: rotate(120deg) scale(1) translateY(0rem);
          transform: rotate(120deg) scale(1) translateY(0rem);
  border-color: #33ff55;
  -webkit-animation: 1.8s flying2 0.1s forwards infinite;
          animation: 1.8s flying2 0.1s forwards infinite;
}
.wrapper > div > div:nth-child(3) {
  -webkit-transform: rotate(180deg) scale(1) translateY(0rem);
      -ms-transform: rotate(180deg) scale(1) translateY(0rem);
          transform: rotate(180deg) scale(1) translateY(0rem);
  border-color: #33ddff;
  -webkit-animation: 1.8s flying3 0.2s forwards infinite;
          animation: 1.8s flying3 0.2s forwards infinite;
}
.wrapper > div > div:nth-child(4) {
  -webkit-transform: rotate(240deg) scale(1) translateY(0rem);
      -ms-transform: rotate(240deg) scale(1) translateY(0rem);
          transform: rotate(240deg) scale(1) translateY(0rem);
  border-color: #5533ff;
  -webkit-animation: 1.8s flying4 0.3s forwards infinite;
          animation: 1.8s flying4 0.3s forwards infinite;
}
.wrapper > div > div:nth-child(5) {
  -webkit-transform: rotate(300deg) scale(1) translateY(0rem);
      -ms-transform: rotate(300deg) scale(1) translateY(0rem);
          transform: rotate(300deg) scale(1) translateY(0rem);
  border-color: #ff33dd;
  -webkit-animation: 1.8s flying5 0.4s forwards infinite;
          animation: 1.8s flying5 0.4s forwards infinite;
}
.wrapper > div > div:nth-child(6) {
  -webkit-transform: rotate(360deg) scale(1) translateY(0rem);
      -ms-transform: rotate(360deg) scale(1) translateY(0rem);
          transform: rotate(360deg) scale(1) translateY(0rem);
  border-color: #ff5533;
  -webkit-animation: 1.8s flying6 0.5s forwards infinite;
          animation: 1.8s flying6 0.5s forwards infinite;
}

@-webkit-keyframes flying1 {
  0% {
    width: 100px;
    -webkit-transform: rotate(60deg) scale(1) translateY(0rem);
            transform: rotate(60deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(60deg) scale(1.5) translateY(0.2rem);
            transform: rotate(60deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(60deg) scale(1) translateY(0rem);
            transform: rotate(60deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}

@keyframes flying1 {
  0% {
    width: 100px;
    -webkit-transform: rotate(60deg) scale(1) translateY(0rem);
            transform: rotate(60deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(60deg) scale(1.5) translateY(0.2rem);
            transform: rotate(60deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(60deg) scale(1) translateY(0rem);
            transform: rotate(60deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes flying2 {
  0% {
    width: 100px;
    -webkit-transform: rotate(120deg) scale(1) translateY(0rem);
            transform: rotate(120deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(120deg) scale(1.5) translateY(0.2rem);
            transform: rotate(120deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(120deg) scale(1) translateY(0rem);
            transform: rotate(120deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@keyframes flying2 {
  0% {
    width: 100px;
    -webkit-transform: rotate(120deg) scale(1) translateY(0rem);
            transform: rotate(120deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(120deg) scale(1.5) translateY(0.2rem);
            transform: rotate(120deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(120deg) scale(1) translateY(0rem);
            transform: rotate(120deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes flying3 {
  0% {
    width: 100px;
    -webkit-transform: rotate(180deg) scale(1) translateY(0rem);
            transform: rotate(180deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(180deg) scale(1.5) translateY(0.2rem);
            transform: rotate(180deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(180deg) scale(1) translateY(0rem);
            transform: rotate(180deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@keyframes flying3 {
  0% {
    width: 100px;
    -webkit-transform: rotate(180deg) scale(1) translateY(0rem);
            transform: rotate(180deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(180deg) scale(1.5) translateY(0.2rem);
            transform: rotate(180deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(180deg) scale(1) translateY(0rem);
            transform: rotate(180deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes flying4 {
  0% {
    width: 100px;
    -webkit-transform: rotate(240deg) scale(1) translateY(0rem);
            transform: rotate(240deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(240deg) scale(1.5) translateY(0.2rem);
            transform: rotate(240deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(240deg) scale(1) translateY(0rem);
            transform: rotate(240deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@keyframes flying4 {
  0% {
    width: 100px;
    -webkit-transform: rotate(240deg) scale(1) translateY(0rem);
            transform: rotate(240deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(240deg) scale(1.5) translateY(0.2rem);
            transform: rotate(240deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(240deg) scale(1) translateY(0rem);
            transform: rotate(240deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes flying5 {
  0% {
    width: 100px;
    -webkit-transform: rotate(300deg) scale(1) translateY(0rem);
            transform: rotate(300deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(300deg) scale(1.5) translateY(0.2rem);
            transform: rotate(300deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(300deg) scale(1) translateY(0rem);
            transform: rotate(300deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@keyframes flying5 {
  0% {
    width: 100px;
    -webkit-transform: rotate(300deg) scale(1) translateY(0rem);
            transform: rotate(300deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(300deg) scale(1.5) translateY(0.2rem);
            transform: rotate(300deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(300deg) scale(1) translateY(0rem);
            transform: rotate(300deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes flying6 {
  0% {
    width: 100px;
    -webkit-transform: rotate(360deg) scale(1) translateY(0rem);
            transform: rotate(360deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(360deg) scale(1.5) translateY(0.2rem);
            transform: rotate(360deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(360deg) scale(1) translateY(0rem);
            transform: rotate(360deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@keyframes flying6 {
  0% {
    width: 100px;
    -webkit-transform: rotate(360deg) scale(1) translateY(0rem);
            transform: rotate(360deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
  25% {
    width: 120px;
    -webkit-transform: rotate(360deg) scale(1.5) translateY(0.2rem);
            transform: rotate(360deg) scale(1.5) translateY(0.2rem);
    border-width: 5px;
  }
  50% {
    width: 100px;
    -webkit-transform: rotate(360deg) scale(1) translateY(0rem);
            transform: rotate(360deg) scale(1) translateY(0rem);
    border-width: 2px;
  }
}
@-webkit-keyframes rotate {
  to {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes rotate {
  to {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

</style>
                <div class="wrappermain">

<div class="wrapper">
  <div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
</div>
</div>
<body style="margin: 0px;">
    <div id="noVNC_screen">
    <span id="time" style="color:white;"></span><br>
            <div id="noVNC_status_bar" class="noVNC_status_bar" style="margin-top: 0px;">
                <table border=0 width="100%"><tr>
                    <td><div id="noVNC_status" style="position: relative; height: auto;">
                        Loading
                    </div></td>
                    <td width="1%"><div id="noVNC_buttons">
                        <input type=button value="Send CtrlAltDel"
                            id="sendCtrlAltDelButton">
                        <span id="noVNC_xvp_buttons">
                        <input type=button value="Shutdown"
                            id="xvpShutdownButton">
                        <input type=button value="Reboot"
                            id="xvpRebootButton">
                        <input type=button value="Reset"
                            id="xvpResetButton">
                        </span>
                            </div></td>
                </tr></table>
            </div>
            <canvas id="noVNC_canvas" width="640px" height="20px">
                Canvas not supported.
            </canvas>
        </div>

        <script>
        /*jslint white: false */
        /*global window, $, Util, RFB, */
        "use strict";

        // Load supporting scripts
        Util.load_scripts(["webutil.js", "base64.js", "websock.js", "des.js",
                           "keysymdef.js", "keyboard.js", "input.js", "display.js",
                           "inflator.js", "rfb.js", "keysym.js"]);

        var rfb;
        var resizeTimeout;


        function UIresize() {
            if (WebUtil.getQueryVar('resize', false)) {
                var innerW = window.innerWidth;
                var innerH = window.innerHeight;
                var controlbarH = $D('noVNC_status_bar').offsetHeight;
                var padding = 5;
                if (innerW !== undefined && innerH !== undefined)
                    rfb.setDesktopSize(innerW, innerH - controlbarH - padding);
            }
        }
        function FBUComplete(rfb, fbu) {
            UIresize();
            rfb.set_onFBUComplete(function() { });
        }
        function passwordRequired(rfb) {
            var msg;
            msg = '<form onsubmit="return setPassword();"';
            msg += '  style="margin-bottom: 0px">';
            msg += 'Password Required: ';
            msg += '<input type=password size=10 id="password_input" class="noVNC_status">';
            msg += '<\/form>';
            $D('noVNC_status_bar').setAttribute("class", "noVNC_status_warn");
            $D('noVNC_status').innerHTML = msg;
        }
        function setPassword() {
            rfb.sendPassword($D('password_input').value);
            return false;
        }
        function sendCtrlAltDel() {
            rfb.sendCtrlAltDel();
            return false;
        }
        function xvpShutdown() {
            rfb.xvpShutdown();
            return false;
        }
        function xvpReboot() {
            rfb.xvpReboot();
            return false;
        }
        function xvpReset() {
            rfb.xvpReset();
            return false;
        }
        function updateState(rfb, state, oldstate, msg) {
            var s, sb, cad, level;
            s = $D('noVNC_status');
            sb = $D('noVNC_status_bar');
            cad = $D('sendCtrlAltDelButton');
            switch (state) {
                case 'failed':       level = "error";  break;
                case 'fatal':        level = "error";  break;
                case 'normal':       level = "normal"; break;
                case 'disconnected': level = "normal"; break;
                case 'loaded':       level = "normal"; break;
                default:             level = "warn";   break;
            }

            if (state === "normal") {
                cad.disabled = false;
            } else {
                cad.disabled = true;
                xvpInit(0);
            }

            if (typeof(msg) !== 'undefined') {
                sb.setAttribute("class", "noVNC_status_" + level);
                s.innerHTML = msg;
            }
        }

        window.onresize = function () {
            // When the window has been resized, wait until the size remains
            // the same for 0.5 seconds before sending the request for changing
            // the resolution of the session
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(function(){
                UIresize();
            }, 500);
        };

        function xvpInit(ver) {
            var xvpbuttons;
            xvpbuttons = $D('noVNC_xvp_buttons');
            if (ver >= 1) {
                xvpbuttons.style.display = 'inline';
            } else {
                xvpbuttons.style.display = 'none';
            }
        }

        window.onscriptsload = function () {
            $.ajax({
                type: "GET",
                url: "http://104.131.135.237:3000/programrun/canusecontainer",
                data: {portnum: WebUtil.getQueryVar('port', window.location.port)},
                success: function (data) {
                   if (data == "NO" || data == "Please login") {
                        alert("Access Denied")
                        $("#noVNC_screen").html("");
                   }
                   else {
                        letitload();
                        var time = new Date(data).getTime();
                        setInterval(function () {
                            if((time + 300000) - new Date().getTime() < 0) {
                                 $("#noVNC_screen").html("");   
                            }
                            else {
                                $("#time").html(((time + 300000) - new Date().getTime())/1000 + " seconds left");
                            }
                         }, 1000);

                   }
                },
                xhrFields: {withCredentials: true},
                error:function(){
                    console.log("ERROR");
                }
            })

           
        };
            function letitload() {
                 var host, port, password, path, token;

                $D('sendCtrlAltDelButton').style.display = "inline";
                $D('sendCtrlAltDelButton').onclick = sendCtrlAltDel;
                $D('xvpShutdownButton').onclick = xvpShutdown;
                $D('xvpRebootButton').onclick = xvpReboot;
                $D('xvpResetButton').onclick = xvpReset;

                WebUtil.init_logging(WebUtil.getQueryVar('logging', 'warn'));
                document.title = unescape(WebUtil.getQueryVar('title', 'noVNC'));
                // By default, use the host and port of server that served this file
                host = "104.131.135.237"
                port = WebUtil.getQueryVar('port', window.location.port);

                // if port == 80 (or 443) then it won't be present and should be
                // set manually
                if (!port) {
                    if (window.location.protocol.substring(0,5) == 'https') {
                        port = 443;
                    }
                    else if (window.location.protocol.substring(0,4) == 'http') {
                        port = 80;
                    }
                }

                // If a token variable is passed in, set the parameter in a cookie.
                // This is used by nova-novncproxy.
                token = WebUtil.getQueryVar('token', null);
                if (token) {
                    WebUtil.createCookie('token', token, 1)
                }

                password = WebUtil.getQueryVar('password', '');
                path = WebUtil.getQueryVar('path', 'websockify');

                if ((!host) || (!port)) {
                    updateState(null, 'fatal', null, 'Must specify host and port in URL');
                    return;
                }

                try {
                    rfb = new RFB({'target':       $D('noVNC_canvas'),
                                   'encrypt':      WebUtil.getQueryVar('encrypt',
                                            (window.location.protocol === "https:")),
                                   'repeaterID':   WebUtil.getQueryVar('repeaterID', ''),
                                   'true_color':   WebUtil.getQueryVar('true_color', true),
                                   'local_cursor': WebUtil.getQueryVar('cursor', true),
                                   'shared':       WebUtil.getQueryVar('shared', true),
                                   'view_only':    WebUtil.getQueryVar('view_only', false),
                                   'onUpdateState':  updateState,
                                   'onXvpInit':    xvpInit,
                                   'onPasswordRequired':  passwordRequired,
                                   'onFBUComplete': FBUComplete});
                } catch (exc) {
                    updateState(null, 'fatal', null, 'Unable to create RFB client -- ' + exc);
                    return; // don't continue trying to connect
                }

                rfb.connect(host, port, password, path);
            }
            setInterval(function(){
                if ($("#noVNC_status_bar").hasClass("noVNC_status_error")) {
                    window.location.reload();
                } 
                else {

                    $(".wrappermain").remove();
                }
            }, 1000);

            
        </script>

    </body>
</html>
